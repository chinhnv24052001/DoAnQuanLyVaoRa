<div class="row m-2">
    <div class="col-sm-12 text-right">
        <button type="button" class="btn btn-success" (click)="exportToExcelAuditLogs()"><i
                class="far fa-file-excel"></i> {{"ExportToExcel" | localize}}
        </button>
    </div>
</div>

<div class="form">
    <form class="form" autocomplete="new-password">
        <div class="row align-items-center mb-4 dv-row-asset-out-of-date">
            <div class="col-xl-5 col-sm-12">
                <div class="input-group">
                    <span for="IdentityCard" class="input-group-text sp-width left-text">
                        {{'CMT/CCCD' |
                        localize}}
                    </span>
                    <input id="IdentityCard" [(ngModel)]="identityCardinout"
                        name="IdentityCard" autoFocus
                        class="form-control m-input input-search-asset-out-of-date" [placeholder]="l('SearchByIdentityCard')"
                        type="text">
                </div>
            </div>
            <button style="margin-left: 20px;" (click)="getWorkerInOutAtIdentityCard()" pButton pRipple type="button"
            class="p-button-raised bt-class">
            <i class="fa fa-search mr-1"></i>
            {{'Search' | localize}}
            </button>
        </div>

    </form>
</div>
<div class="row align-items-center  dv-form">
    <div class="col-12 primeng-datatable-container" [busyIf]="primengTableHelper.isLoading">
        <h6> {{l('HistoryWorkerInOut')}}</h6>
        <p-table #dataTable (onLazyLoad)="getWorkerInOutAtIdentityCard($event)" [value]="primengTableHelper.records"
            rows="{{primengTableHelper.defaultRecordsCountPerPage}}" [paginator]="false"
            styleClass="p-datatable-gridlines" [rowHover]="true" [lazy]="true"
            [responsive]="primengTableHelper.isResponsive" [value]="primengTableHelper.records"
            rows="{{primengTableHelper.defaultRecordsCountPerPage}}">
            <ng-template pTemplate="header">
                <tr>
                    <th>
                        {{'STT' | localize}}
                    </th>
                    <th pSortableColumn="workerName">
                        {{'WorkerName' | localize}}
                    </th>
                    <th pSortableColumn="identityCard">
                        {{'IdentityCard' | localize}}
                    </th>
                    <th pSortableColumn="requestCode">
                        {{'RequestCode' | localize}}
                    </th>
                    <th pSortableColumn="registerRepresentativePhone">
                        {{'RegisterRepresentativePhone' | localize}}
                    </th>
                    <th pSortableColumn="starDate">
                        {{'StarDate' | localize}}
                    </th>
                    <th pSortableColumn="endDate">
                        {{'EndDate' | localize}}
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-record="$implicit" let-rowIndex="rowIndex">
                <tr>
                    <td style="width: 10px; text-align: center;">
                        <span class="p-column-title"> {{'STT' | localize}}</span>
                        {{rowIndex+1+indexShort}}
                    </td>
                    <td class="td-format" style="width: 300px;">
                        <span class="p-column-title"> {{'WorkerName' |
                            localize}}</span>
                        {{record.workerName}}
                    </td>
                    <td class="td-format td-identity-card">
                        <span class="p-column-title"> {{'IdentityCard' |
                            localize}}</span>
                        {{record.identityCard}}
                    </td>
                    <td class="td-format td-identity-card">
                        <span class="p-column-title"> {{'RequestCode' |
                            localize}}</span>
                        {{record.requestCode}}
                    </td>
                    <td class="td-format td-identity-card">
                        <span class="p-column-title"> {{'RegisterRepresentativePhone' |
                            localize}}</span>
                        {{record.registerRepresentativePhone}}
                    </td>
                    <td class="td-format td-date-io">
                        <span class="p-column-title"> {{'StarDate' |
                            localize}}</span>
                        {{record.starDate| luxonFormat:'HH:mm dd/LL/yyyy'}}
                    </td>
                    <td class="td-format td-date-io">
                        <span class="p-column-title"> {{'EndDate' |
                            localize}}</span>
                        {{record.endDate| luxonFormat:'HH:mm dd/LL/yyyy'}}
                    </td>
                </tr>
            </ng-template>
        </p-table>
        <div class="primeng-no-data" *ngIf="primengTableHelper.totalRecordsCount == 0">
            {{'NoData' | localize}}
        </div>
        <div class="primeng-paging-container">
            <p-paginator [rows]="primengTableHelper.defaultRecordsCountPerPage" #paginator
                (onPageChange)="getWorkerInOutAtIdentityCard($event)"
                [totalRecords]="primengTableHelper.totalRecordsCount"
                [rowsPerPageOptions]="primengTableHelper.predefinedRecordsCountPerPage">
            </p-paginator>
            <span class="total-records-count">
                {{'TotalRecordsCount' |
                localize:primengTableHelper.totalRecordsCount}}
            </span>
        </div>
    </div>
    <!--<Primeng-TurboTable-End>-->
</div>
